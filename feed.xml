<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Guto@Site</title>
    <link href="https://gutocarvalho.net/feed.xml" rel="self" />
    <link href="https://gutocarvalho.net" />
    <updated>2021-10-07T23:03:41-03:00</updated>
    <author>
        <name>Guto Carvalho</name>
    </author>
    <id>https://gutocarvalho.net</id>

    <entry>
        <title>Instalando Rancher Single Node</title>
        <author>
            <name>Guto Carvalho</name>
        </author>
        <link href="https://gutocarvalho.net/instalando-rancher-single-node/"/>
        <id>https://gutocarvalho.net/instalando-rancher-single-node/</id>
            <category term="Tips"/>
            <category term="Projetos"/>
            <category term="K8S"/>

        <updated>2021-10-07T23:03:41-03:00</updated>
            <summary>
                <![CDATA[
                    <p>Aprenda a instalar o Rancher Single Node para testes e avaliações.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Aprenda a instalar o Rancher Single Node para testes e avaliações.</p>

<p>Instale o docker<br><br><code>curl https://releases.rancher.com/install-docker/19.03.sh | sh</code></p>
<p>Crie o diretório de dados para o rancher<br><br><code>mkdir /opt/rabcher-data</code><br><br>Instale o Rancher</p>
<p><code>docker run -d --restart=unless-stopped \</code><br><code>  -p 80:80 -p 443:443 \</code><br><code>  --privileged \</code><br><code>  -v /opt/rancher-data:/var/lib/rancher \<br>   rancher/rancher:latest \</code><br><code>  --acme-domain rancher.nativetrail.io</code></p>
<p>Acesse</p>
<p><code><a href="https://rancher.nativetrail.io">https://rancher.nativetrail.io</a></code></p>
<p>Prontinho!</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>K8S: Gerando Kubeconfig para AWS EKS</title>
        <author>
            <name>Guto Carvalho</name>
        </author>
        <link href="https://gutocarvalho.net/gerando-kubeconfig-para-aws-eks/"/>
        <id>https://gutocarvalho.net/gerando-kubeconfig-para-aws-eks/</id>
            <category term="Tips"/>
            <category term="K8S"/>

        <updated>2021-10-06T15:22:21-03:00</updated>
            <summary>
                <![CDATA[
                    <p>Aprenda a gerar o kubeconfig para um cluster EKS</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Aprenda a gerar o kubeconfig para um cluster EKS</p>

<p><strong>Gerando Kubeconfig para AWS EKS</strong><br><br>configurando aws-cli<br><br><code>$ aws configure</code><br>    <br>preencha os dados pedidos<br><br><code>AWS Access Key ID [None]: ACCESS_KEY</code><br><code>AWS Secret Access Key [None]: SECRET_KEY</code><br><code>Default region name [None]: us-east-1</code><br><code>Default output format [None]: json</code><br><br>listando clusters<br><br><code>$ aws eks cluster-list --output table</code><br><br>saída<br><br><code>-----------------------</code><br><code>|    ListClusters     |</code><br><code>+---------------------+</code><br><code>||     clusters      ||</code><br><code>|+-------------------+|</code><br><code>||  homologacao      ||</code><br><code>||  producao         ||</code><br><code>||  desenvolvimento  ||</code><br><code>||  sandbox          ||</code><br><code>|+-------------------+|</code><br><br><br>gerando</p>
<p><code>$ aws eks update-kubeconfig --name labs</code><br><br>saída<br><br><code>Added new context arn:aws:eks:us-east-1:xxxx:cluster/gr1d-labs to /Users/gutocarvalho/projetos/nativetrail/k8s/labs/config</code><br><br>listando clusters<br><br><code>$ export KUBECONFIG=/Users/gutocarvalho/projetos/nativetrail/k8s/labs/config</code><br><code>$ kubectl get nodes</code><br><br>saída<br><br><code>NAME                            STATUS   ROLES    AGE   VERSION</code><br><code>ip-172-xx-xx-11.ec2.internal     Ready    &lt;none&gt;   24m   v1.21.2-eks-55daa9d</code><br><code>ip-172-xx-xx-168.ec2.internal    Ready    &lt;none&gt;   24m   v1.21.2-eks-55daa9d</code><br><code>ip-172-xx-xx-198.ec2.internal    Ready    &lt;none&gt;   24m   v1.21.2-eks-55daa9d</code><br><br>prontinho!</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>K8S: Instalando ingress AWS no EKS</title>
        <author>
            <name>Guto Carvalho</name>
        </author>
        <link href="https://gutocarvalho.net/instalando-ingress-aws-no-k8s-eks/"/>
        <id>https://gutocarvalho.net/instalando-ingress-aws-no-k8s-eks/</id>
            <category term="Tips"/>
            <category term="Projetos"/>
            <category term="K8S"/>

        <updated>2021-10-06T15:22:35-03:00</updated>
            <summary>
                <![CDATA[
                    <p>Aprenda a instalar o ingress-aws no EKS de forma rápida e pontual</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Aprenda a instalar o ingress-aws no EKS de forma rápida e pontual</p>

<p>É importante saber que o cluster EKS não vem com ingress instalado por padrão, então vamos aprender como instalar o INGRESS oficial do projeto do K8S com suporte a ELB e NLB da AWS.<br><br><strong>Instalando Ingress no EKS</strong><br><br>Aqui nesta página teremos a documentação para instalar o ingress<br><br><code>https://kubernetes.github.io/ingress-nginx/deploy/#aws</code><br><br>Instale a última versão estável<br><br><code>$ kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.0.3/deploy/static/provider/aws/deploy.yaml</code><br><br>A saída esperada é essa:<br><br><code>namespace/ingress-nginx created</code><br><code>serviceaccount/ingress-nginx created</code><br><code>configmap/ingress-nginx-controller created</code><br><code>clusterrole.rbac.authorization.k8s.io/ingress-nginx created</code><br><code>clusterrolebinding.rbac.authorization.k8s.io/ingress-nginx created</code><br><code>role.rbac.authorization.k8s.io/ingress-nginx created</code><br><code>rolebinding.rbac.authorization.k8s.io/ingress-nginx created</code><br><code>service/ingress-nginx-controller-admission created</code><br><code>service/ingress-nginx-controller created</code><br><code>deployment.apps/ingress-nginx-controller created</code><br><code>ingressclass.networking.k8s.io/nginx created</code><br><code>validatingwebhookconfiguration.admissionregistration.k8s.io/ingress-nginx-admission created</code><br><code>serviceaccount/ingress-nginx-admission created</code><br><code>clusterrole.rbac.authorization.k8s.io/ingress-nginx-admission created</code><br><code>clusterrolebinding.rbac.authorization.k8s.io/ingress-nginx-admission created</code><br><code>role.rbac.authorization.k8s.io/ingress-nginx-admission created</code><br><code>rolebinding.rbac.authorization.k8s.io/ingress-nginx-admission created</code><br><code>job.batch/ingress-nginx-admission-create created</code><br><code>job.batch/ingress-nginx-admission-patch created</code><br><br>Prontinho!</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>K8S: Instalando Cert-Manager e issuers LetsEncrypt</title>
        <author>
            <name>Guto Carvalho</name>
        </author>
        <link href="https://gutocarvalho.net/instalando-cert-manager-no-k8s/"/>
        <id>https://gutocarvalho.net/instalando-cert-manager-no-k8s/</id>
            <category term="Tips"/>
            <category term="Projetos"/>
            <category term="K8S"/>

        <updated>2021-10-06T15:23:53-03:00</updated>
            <summary>
                <![CDATA[
                    <p>Aprenda a instalar ao cert-manager no k8s de forma objetiva e rápida!</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Aprenda a instalar ao cert-manager no k8s de forma objetiva e rápida!</p>

<p><strong>Instalando CertManager</strong><br><br>Instale o CustomResourceDefinition separadamente<br><br><code>$ kubectl apply --validate=false -f https://github.com/jetstack/cert-manager/releases/download/v1.5.4/cert-manager.crds.yaml</code><br><br>Crie o namespace para o cert-manager<br><br><code>$ kubectl create namespace cert-manager</code><br><br>Adicione o repositório helm<br><br><code>$ helm repo add jetstack https://charts.jetstack.io</code><br><br>Atualize os indices do helm<br><br><code>$ helm repo update</code><br><br>Instale o cert-manager via helm<br><br><code>$ helm install \</code><br><code>  cert-manager jetstack/cert-manager \</code><br><code>  --namespace cert-manager \</code><br><code>  --version v1.5.4</code><br><br>Crie o issuer para letsencrypt production<br><br><code>$ vim issuer-prod.yaml</code><br><br>Insira o conteúdo<br><br><code>apiVersion: cert-manager.io/v1</code><br><code>kind: ClusterIssuer</code><br><code>metadata:</code><br><code>  name: letsencrypt-prod</code><br><code>spec:</code><br><code>  acme:</code><br><code>    # You must replace this email address with your own.</code><br><code>    # Let's Encrypt will use this to contact you about expiring</code><br><code>    # certificates, and issues related to your account.</code><br><code>    email: certmanager@gutocarvalho.net</code><br><code>    server: https://acme-v02.api.letsencrypt.org/directory</code><br><code>    privateKeySecretRef:</code><br><code>      # Secret resource that will be used to store the account's private key.</code><br><code>      name: letsencrypt-production</code><br><code>    # Add a single challenge solver, HTTP01 using nginx</code><br><code>    solvers:</code><br><code>    - http01:</code><br><code>        ingress:</code><br><code>          class: nginx</code><br><br>Aplicando<br><br><code>$ kubectl create -f issuer-prod.yaml</code><br><br>Criando o issuer para letsencrypt staging<br><br><code>vim issuer-staging.yaml</code><br><br>Insira o conteúdo<br><br><code>apiVersion: cert-manager.io/v1</code><br><code>kind: ClusterIssuer</code><br><code>metadata:</code><br><code>  name: letsencrypt-staging</code><br><code>spec:</code><br><code>  acme:</code><br><code>    # You must replace this email address with your own.</code><br><code>    # Let's Encrypt will use this to contact you about expiring</code><br><code>    # certificates, and issues related to your account.</code><br><code>    email: nativetrail@gutocarvalho.net</code><br><code>    server: https://acme-staging-v02.api.letsencrypt.org/directory</code><br><code>    privateKeySecretRef:</code><br><code>      # Secret resource that will be used to store the account's private key.</code><br><code>      name: letsencrypt-staging</code><br><code>    # Add a single challenge solver, HTTP01 using nginx</code><br><code>    solvers:</code><br><code>    - http01:</code><br><code>        ingress:</code><br><code>          class: nginx</code><br><br>Aplicando<br><br><code>$ kubectl create -f issuer-staging.yaml</code><br><br>Prontinho!<br><br><strong>Annotations</strong><br><br>Para production<br><br><code>cert-manager.io/cluster-issuer=letsencrypt-prod</code><br><code>kubernetes.io/ingress.class=nginx</code><br><br>Para staging<br><br><code>cert-manager.io/cluster-issuer=letsencrypt-staging</code><br><code>kubernetes.io/ingress.class=nginx</code><br><br><strong>Refs</strong><br><br><code>https://cert-manager.io/docs/configuration/acme/</code></p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Kubeconf North America 2021</title>
        <author>
            <name>Guto Carvalho</name>
        </author>
        <link href="https://gutocarvalho.net/kubeconf-north-america-2021/"/>
        <id>https://gutocarvalho.net/kubeconf-north-america-2021/</id>
            <category term="Tips"/>
            <category term="Eventos"/>

        <updated>2021-10-05T20:03:50-03:00</updated>
            <summary>
                <![CDATA[
                    <p>Esse mês tem, vamo nessa, nos vemos lá!</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Esse mês tem, vamo nessa, nos vemos lá!</p>

<p>De 11 a 15 de Outubro teremos <a href="https://events.linuxfoundation.org/kubecon-cloudnativecon-north-america/?utm_source=Google&amp;utm_medium=Search&amp;utm_campaign=KubeConNA2021">Kubecon</a> North America.</p>
<p>Veja a <a href="https://events.linuxfoundation.org/kubecon-cloudnativecon-north-america/program/schedule">agenda</a> e participe!<br><br>[s]<br>Guto</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Wiki open source moderna</title>
        <author>
            <name>Guto Carvalho</name>
        </author>
        <link href="https://gutocarvalho.net/wiki-open-source-moderna/"/>
        <id>https://gutocarvalho.net/wiki-open-source-moderna/</id>
            <category term="Tips"/>
            <category term="Projetos"/>

        <updated>2021-10-04T15:47:50-03:00</updated>
            <summary>
                <![CDATA[
                    <p>Conheça uma wiki open source <strong>modernosa</strong> que vai te surpreender!</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Conheça uma wiki open source <strong>modernosa</strong> que vai te surpreender!</p>

<p>Depois de muitos anos usando o <strong>dokuwiki</strong> como ferramenta principal e <strong>GitLab Wiki</strong> para alguns projetos pontuais, eu finalmente encontrei algo que mexeu comigo, a ponto de me fazer mudar a ferramenta wiki referência em minha <strong>stack</strong> de trabalho.<br><br>O projeto em questão é o <strong>WIKI.JS</strong>, ele veio desafiar minha escolha de uma wiki – <strong>flat file storage </strong>– e ainda assim conseguiu preencher um espaço até então já dominado.<br><br>Desde 2020 eu uso ela, e agora posso dizer que recomendo com todas as forças :)<br><br>Vai lá, dá uma chance!<br><br><strong><a href="https://js.wiki/">https://js.wiki/</a></strong><br><br>[s]<br><br>P.s: Já usa ela? Me conta ai suas impressões, mas faz com carinho tá :)</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Chats open source e self-hosted</title>
        <author>
            <name>Guto Carvalho</name>
        </author>
        <link href="https://gutocarvalho.net/chats-open-source/"/>
        <id>https://gutocarvalho.net/chats-open-source/</id>
            <category term="Tips"/>
            <category term="Projetos"/>

        <updated>2021-10-04T10:21:04-03:00</updated>
            <summary>
                <![CDATA[
                    <p>Lista de projetos open source para chat corporativo.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Lista de projetos open source para chat corporativo.</p>

<p>Novamente buscando novas tecnologias para minha stack, quero sair das – já batidas – opções existentes.</p>
<p>Hoje temos os open source mais famosinhos, criados como alternativa ao closed source <strong>slack</strong>.<br><br>- <a href="https://mattermost.com">https://mattermost.com</a> ( usei por anos, até a semana passada )<br>- <a href="https://rocket.chat">https://rocket.chat</a> ( projeto brazuca bem legal )</p>
<p>Recentemente pesquisando pelo RIOT, app que usava o protocolo Matrix, descobri que ele foi rebatizado como Element, vale a pena conhecer!<br><br>- <a href="https://element.io/">https://element.io</a><br><br>Outra que vale a menção é o Corteza, que é um framework maior, mas tem um módulo de chat.<br><br>- <a href="https://cortezaproject.org/technology/core/corteza-messaging/">https://cortezaproject.org/technology/core/corteza-messaging/</a></p>
<p>Esses dois estão na minha fila para testar, quando entender como funcionam eu posto aqui.<br><br>Ah, e caso não conheça o projeto <a href="https://matrix.org/" target="_blank" rel="noopener noreferrer">Matrix.org</a>, vai lá visitar.<br><br>[s]<br>Guto<br><br>P.s: Conhece algum outro open source e self hosted? Manda aí nos comentários :)<br><br></p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Gerenciadores de senha open source</title>
        <author>
            <name>Guto Carvalho</name>
        </author>
        <link href="https://gutocarvalho.net/gerenciadores-de-senha-open-source/"/>
        <id>https://gutocarvalho.net/gerenciadores-de-senha-open-source/</id>
            <category term="Tips"/>
            <category term="Projetos"/>

        <updated>2021-10-04T10:20:56-03:00</updated>
            <summary>
                <![CDATA[
                    <p>Lista de projetos open source para gerenciar suas senhas!</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Lista de projetos open source para gerenciar suas senhas!</p>

<p>Eu normalmente utilizo o <strong>Passbolt</strong> em meus projetos, mas estou em um fase de renovar minha stack, sendo assim segue uma listinha de algumas das ferramentas que eu ainda quero testar:</p>
<p>- <a href="https://padloc.app">https://padloc.app</a><br>- <a href="https://bitwarden.com">https://bitwarden.com</a><br>- <a href="https://lesspass.com/#/">https://lesspass.com</a><br>- <a href="https://passit.io">https://passit.io</a><br>- <a href="http://syspass.org/en">http://syspass.org/en</a><br>- <a href="https://psono.com">https://psono.com</a><br><br>Vale lembrar que todos são <strong>open source</strong> e <strong>self-hosted</strong>.<br><br>E quem não conhece o <strong>Passbolt</strong>, segue:<br><br>- <a href="https://www.passbolt.com">https://www.passbolt.com</a><br><br>[s]<br>Guto</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Reparando disco no mac</title>
        <author>
            <name>Guto Carvalho</name>
        </author>
        <link href="https://gutocarvalho.net/reparando-disco-no-mac/"/>
        <id>https://gutocarvalho.net/reparando-disco-no-mac/</id>
            <category term="Tips"/>

        <updated>2021-09-30T20:02:23-03:00</updated>
            <summary>
                <![CDATA[
                    <p>Meu disco USB não montava mais no mac, veja como resolvi.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Meu disco USB não montava mais no mac, veja como resolvi.</p>

<p>Meu disco não montava mais, e quando tentava reparar pela UI do Diskutil eu recebia o erro.<br><br><code>File system verify or repair failed. : (-69845)</code></p>
<p>Pelo UI do Diskutil não teve jeito, então fui para o terminal e rodei</p>
<p><code>$ diskutil repairDisk disk3</code><br><br>E tive a seguinte saída <br><br><code>Repairing the partition map might erase disk3s1, proceed? (y/N) y</code><br><code>Started partition map repair on disk3</code><br><code>Checking prerequisites</code><br><code>Checking the partition list</code><br><code>Adjusting partition map to fit whole disk as required</code><br><code>Checking for an EFI system partition</code><br><code>Checking the EFI system partition's size</code><br><code>Checking the EFI system partition's file system</code><br><code>Checking the EFI system partition's folder content</code><br><code>Checking all HFS data partition loader spaces</code><br><code>Checking booter partitions</code><br><code>Reviewing boot support loaders</code><br><code>Checking Core Storage Physical Volume partitions</code><br><code>The partition map appears to be OK</code><br><code>Finished partition map repair on disk3</code><br><br>Com isso o disco voltou a funcionar.<br><br>Substitua <strong>disk3</strong> pelo valor correto do device.<br><br>[s]<br>Guto</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>K8S: Instalando o metric server no EKS</title>
        <author>
            <name>Guto Carvalho</name>
        </author>
        <link href="https://gutocarvalho.net/instalando-metricserver/"/>
        <id>https://gutocarvalho.net/instalando-metricserver/</id>
            <category term="Projetos"/>
            <category term="MindNotes"/>
            <category term="K8S"/>

        <updated>2021-10-06T15:23:30-03:00</updated>
            <summary>
                <![CDATA[
                    <p>Aprenda a instalar o agregador de métricas em seu cluster.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Aprenda a instalar o agregador de métricas em seu cluster.</p>

<p><strong>Para que serve?</strong><br><br>O Metric server é um agregador de informações sobre os recursos utilizados em seu cluster. Uma vez instalado ele ai expor essas informações via APIServer.<br><br>O Metric server é em especial importante para usar recursos de escalabilidade horizontal e vertical de PODs dentro do seu cluster K8S, tal como HPA e VPA.<br><br>Em alguns provedores como AWS EKS ele não é instalado por padrão.<br><br><strong>Como eu instalo em meu cluster?<br><br></strong><code>$ kubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml</code><br><br><strong>Verificando se está instalado<br></strong><br><code>$ kubectl get deployment metrics-server -n kube-system</code><br><br><strong>Refs </strong><br><br>- <a href="https://docs.aws.amazon.com/eks/latest/userguide/metrics-server.html" target="_blank" rel="noopener">https://docs.aws.amazon.com/eks/latest/userguide/metrics-server.html</a><br>- <a href="https://github.com/kubernetes-sigs/metrics-server" target="_blank" rel="noopener">https://github.com/kubernetes-sigs/metrics-server</a></p>
            ]]>
        </content>
    </entry>
</feed>
