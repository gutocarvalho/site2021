<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title> Entendendo o Kubernetes &amp; Cloud Native - Guto@Site</title><meta name="description" content="Bora entender isso e ficar na mesma página? Vem com a gente!&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://pub.gutocarvalho.net/entendendo-o-kubernetes-and-cloud-native/"><link rel="amphtml" href="https://pub.gutocarvalho.net/amp/entendendo-o-kubernetes-and-cloud-native/"><link rel="alternate" type="application/atom+xml" href="https://pub.gutocarvalho.net/feed.xml"><link rel="alternate" type="application/json" href="https://pub.gutocarvalho.net/feed.json"><meta property="og:title" content=" Entendendo o Kubernetes & Cloud Native"><meta property="og:site_name" content="Guto@Site"><meta property="og:description" content="Bora entender isso e ficar na mesma página? Vem com a gente!&hellip;"><meta property="og:url" content="https://pub.gutocarvalho.net/entendendo-o-kubernetes-and-cloud-native/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@gutocarvalho"><meta name="twitter:title" content=" Entendendo o Kubernetes & Cloud Native"><meta name="twitter:description" content="Bora entender isso e ficar na mesma página? Vem com a gente!&hellip;"><link rel="preload" href="https://pub.gutocarvalho.net/assets/dynamic/fonts/publicsans/publicsans.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://pub.gutocarvalho.net/assets/css/style.css?v=e33db0d9c3fbb82591933ce0cb53b3ff"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://pub.gutocarvalho.net/entendendo-o-kubernetes-and-cloud-native/"},"headline":" Entendendo o Kubernetes & Cloud Native","datePublished":"2022-02-16T17:14","dateModified":"2022-02-17T08:13","description":"Bora entender isso e ficar na mesma página? Vem com a gente!&hellip;","author":{"@type":"Person","name":"Guto Carvalho","url":"https://pub.gutocarvalho.net/authors/gutocarvalho/"},"publisher":{"@type":"Organization","name":"Guto Carvalho"}}</script><script>var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//stats.gutocarvalho.net/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '4']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();</script></head><body><div class="container js-container"><nav class="menu"><ul class="navbar__menu"><li><a href="https://pub.gutocarvalho.net/quem-sou/" target="_self">Me conheça</a></li><li class="has-submenu"><span>Resume</span><ul class="navbar__submenu"><li><a href="https://resume.gutocarvalho.net" target="_self">ENGLISH</a></li><li><a href="https://curriculo.gutocarvalho.net" target="_self">PORTUGUESE</a></li></ul></li><li class="has-submenu"><span>Posts</span><ul class="navbar__submenu"><li><a href="https://pub.gutocarvalho.net/" target="_self">BLOG</a></li><li><a href="https://twitter.com/gutocarvalho" target="_self">TWITTER</a></li></ul></li><li class="has-submenu"><span>Eu recomendo</span><ul class="navbar__submenu"><li><a href="https://pub.gutocarvalho.net/comunidades/" target="_self">COMUNIDADES</a></li><li><a href="https://pub.gutocarvalho.net/siga-o-pessoal-do-bem/" target="_self">PESSOAS</a></li><li><a href="https://pub.gutocarvalho.net/ferramentas-interessantes-para-k8s/" target="_self">K8S TOOLS</a></li><li><a href="https://pub.gutocarvalho.net/sites-interessantes-para-conhecer/" target="_self">TECH SITES</a></li></ul></li><li class="has-submenu"><span>Opinião</span><ul class="navbar__submenu"><li><a href="https://pub.gutocarvalho.net/etiqueta-do-trabalho-remoto/" target="_self">ETIQUETA NO JOB REMOTO</a></li><li><a href="https://pub.gutocarvalho.net/ti-remota-em-2022-entenda/" target="_self">ENTENDA O JOB REMOTO EM 22</a></li><li><a href="https://pub.gutocarvalho.net/trinta-percepcoes-sobre-ti-em-2022/" target="_self">30 PERCEPCOES SOBRE TI EM 22</a></li><li><a href="https://pub.gutocarvalho.net/quanto-eu-devo-cobrar-a-hora-de-projetos/" target="_self">VALOR HORA DE PROJETOS</a></li><li><a href="https://pub.gutocarvalho.net/quanto-deveria-ganhar-um-cloud-engineer/" target="_self">SALARIO CLOUD ENGINEER</a></li></ul></li><li class="has-submenu"><span>TECH</span><ul class="navbar__submenu"><li><a href="https://pub.gutocarvalho.net/tags/tips/" target="_self">DROPS</a></li><li><a href="https://pub.gutocarvalho.net/tags/projetos/" target="_self">PROJETOS</a></li><li><a href="https://pub.gutocarvalho.net/tags/mindnotes/" target="_self">MIND NOTES</a></li><li><a href="https://pub.gutocarvalho.net/tags/mente/" target="_self">FALAGUTERA</a></li><li><a href="https://pub.gutocarvalho.net/tags/k8s/" target="_self">K8S</a></li></ul></li><li class="has-submenu"><span>Vitae</span><ul class="navbar__submenu"><li><a href="https://pub.gutocarvalho.net/tags/poesia/" target="_self">POESIA</a></li></ul></li><li><a href="https://pub.gutocarvalho.net/archives/" target="_self">ARCHIVED SITES</a></li><li><a href="https://nativetrail.io" target="_self">NativeTrail</a></li><li><a href="https://www.google.com/search?q&#x3D;site%3Agutocarvalho.net" target="_blank">Busca</a></li><li><a href="https://pub.gutocarvalho.net/contato/" target="_self">Contato</a></li></ul></nav><div class="content"><header class="top"><div class="top__item"><a class="logo" href="https://pub.gutocarvalho.net/">Guto@Site</a></div><div class="top__item top__item--right"><button class="menu-toggle js-menu-toggle" aria-label="Menu" aria-expanded="false"><span class="menu-toggle-box"><span class="menu-toggle-inner">Menu</span></span></button></div></header><main class="main"><article class="post"><div class="main__left"><figure class="hero"><img src="https://pub.gutocarvalho.net/media/website/guto_2022_austin.jpg" srcset="https://pub.gutocarvalho.net/media/website/responsive/guto_2022_austin-xs.jpg 300w, https://pub.gutocarvalho.net/media/website/responsive/guto_2022_austin-sm.jpg 480w, https://pub.gutocarvalho.net/media/website/responsive/guto_2022_austin-md.jpg 768w, https://pub.gutocarvalho.net/media/website/responsive/guto_2022_austin-lg.jpg 1024w, https://pub.gutocarvalho.net/media/website/responsive/guto_2022_austin-xl.jpg 1280w, https://pub.gutocarvalho.net/media/website/responsive/guto_2022_austin-2xl.jpg 1600w" sizes="(min-width: 1800px) 50vw, (min-width: 900px) 40vw, 100vw" loading="eager" width="1024" height="1280" alt="Guto Carvalho # 2022-21-08 @ BSB"><figcaption class="hero__caption">Guto Carvalho # 2022-21-08 @ BSB</figcaption></figure><header><h1> Entendendo o Kubernetes &amp; Cloud Native</h1><p><time datetime="2022-02-16T17:14">February 16, 2022 </time>by <a href="https://pub.gutocarvalho.net/authors/gutocarvalho/" rel="author" title="Guto Carvalho">Guto Carvalho</a></p></header></div><div class="main__right"><div class="post__entry"><p>Bora entender isso e ficar na mesma página? Vem com a gente!</p><p>Me siga no twitter <a href="https://twitter.com/gutocarvalho">@gutocarvalho</a> e acompanhe meus posts sobre Cloud Native e CI/CD.</p><p>Siga a <a href="https://twitter.com/CDeliveryFdn">CD Foundation</a> e <a href="https://twitter.com/cloudnativefdn">Cloud Native Foundation</a> no twitter.</p><h2 id="o-que-é">O que é?</h2><p>O kubernetes é um orquestrador de containers que oferece meios para você executar, escalar e atualizar seu software de forma simples e eficiente.</p><p>Com o kubernetes podemos automatizar a implantação de nosso software integrando nossa pipeline com um cluster de containers, conseguindo assim entregar nosso software de maneira rápida e controlada.</p><h2 id="origens">Origens</h2><p>Em 2014 o google liberou um projeto open source interno que orquestrava containers, ele foi a base para o Kubernetes.</p><h3 id="curiosidades-sobre-as-origens">Curiosidades sobre as origens</h3><p>No Google, internamente o projeto se chamava BORG.</p><p>O projeto BORG foi reescrito em GO e foi rebatizado de Kubernetes.</p><p>Kubernetes significa timoneiro – em grego, aquele que pilota uma embarcação.</p><p>A primeira release do kubernetes foi lançada em 7 de Junho de 2014.</p><h2 id="cloud-native-computing-foundation-ou-cncf">Cloud Native Computing Foundation ou CNCF</h2><p>O Google queria algum lugar para hospedar não só o projeto Kubernetes em si, mais um lugar em que todos pudessem contribuir com o projeto e criar novas soluções para esse segmento de aplicações rodando em containers.</p><p>Com essa ideia em mente, o Google entrou em contato com a Linux Foundation para criar uma estrutura que pudesse receber esse projeto e fomentar tecnologias e soluções ligadas a esse novo universo de containers.</p><p>A Linux Foundation criou então a CNCF, Cloud Native Computing Foundation para fomentar o desenvolvimento do Kubernetes e de tecnologias com foco em containers. O Termo Cloud Native foi cunhado e passou a ser utilizado para se referir aplicações desta natureza.</p><p>A CNCF foi fundada e teve seu anúncio junto com o lançamento da versão 1.0 do Kubernetes em 21 de Julho de 2015.</p><h2 id="como-funciona-">Como funciona ?</h2><p>O Kubernetes ou K8S como é chamado de forma abreviada é um orquestrador que foi desenhado para gerenciar workloads de containers e serviços de forma automatizada, utilizando configuração declarativa que usa o estrutura e formato de dados do projeto YAML.</p><p>Isso significa que podemos definir o estado desejado de funcionamento de nosso cluster e também das aplicações rodando neste, apenas utilizando convenções em YAML. Os operadores do cluster vão ler essas definições e garantir esse estado, fazendo modificações quando for necessário.</p><p>O kubernetes oferece:</p><ul><li>Serviço de descoberta</li><li>Serviço de balanceamento de carga</li><li>Serviço de proxy</li><li>Gerenciamento de redes e sub-redes</li><li>Gerenciamento de DNS</li><li>Orquestração de storage para os containers</li><li>Automação de rollouts ou rollbacks de suas aplicações</li><li>Gerenciamento dos certificados com geração e renovação automática</li><li>Gerenciamento de configuraçoes (configmaps)</li><li>Gerenciamento de segredos (secrets)</li><li>Gerenciamento de jobs (cronjobs)</li><li>Gerenciamento de limites de recursos para cada container</li><li>Self-healing, ele reinicia ou substitiu um container em caso de falha</li></ul><p>Em resumo, o kubernetes vai oferecer tudo que é necessário para sua aplicação rodar e ser utilizada por seus usuários.</p><h3 id="por-que-chamam-o-k8s-de-os-de-datacenter">Por que chamam o K8S de OS de Datacenter?</h3><p>Em alguns treinamentos ou palestras você pode ouvir o pessoal falando que o Kuberneters – antigo BORG – é um sistema operacional de datacenter, e tudo bem, faz sentido falar isso.</p><p>Se obervarmos com cuidado, vamos ver que o kubernetes oferece tudo que um software precisa, indo do endereço ip, rede, storage, balanceamento, dns, certificado, configurações, segredos, em suma, ele traz tudo que um datacenter ofereceria para uma aplicação em um lugar só, e essa é beleza e a força do projeto.</p><p>É de fato um datacenter inteiro em uma única solução.</p><h2 id="quais-os-benefícios">Quais os benefícios?</h2><p>Como o kubernetes oferece tudo que sua aplicação precisa, você tem mais tempo para se preocupar com o negócio, isso pode melhorar sua produtividade e reduzir tempo gasto com configurações comuns geralmente executadas em sua infraestrutura clássica.</p><p>O cluster kubernetes te ajuda a usar os recursos computacionais de forma mais eficiente. Como tudo roda em containers, você consegue compartilhar mais recursos computacionais com diferentes aplicações sendo executadas no cluster.</p><p>O processo de entrega e o ciclo de desenvolvimento do software pode ser sensivelmente reduzido depois que você integrar o cluster ao seu processo de desenvolvimento.</p><p>Uma vez que sua aplicação está rodando em Kubernetes, você conseguirá rodá-la praticamente em quaisquer cloud pública que suporte kubernetes. Essa portabilidade é muito importante e oferece a capacidade de seu software funcionar em diferentes clouds, podendo escolher aquela com melhor custo, ou até replicar sua aplicação em provedores diferentes para garantir mais disponibilidade.</p><p>Ao usar aplicações dentro do cluster, você conseguirá reduzir sensivelmente o custo de sua conta em uma Cloud Pública, isso acontece pois o Kubernetes já traz a maioria dos recursos de forma nativa, reduzindo assim dua despesa no final do mês.</p><p>O Kubernetes é o orquestrador líder de mercado, é comprovadamente estável, é mantido por diversas empresas incluindo o Google e foi testado em produção em diversos cenários com sucesso, o que nos garante que não estamos embarcando em uma aventura com uma tecnologia com pouca maturidade. Existem muitos cases de aplicações de missão crítica rodando em clusters Kubernetes, se é eficiente para eles, é eficiente para você.</p><h2 id="é-realmente-seguro">É realmente seguro?</h2><p>Sim é seguro, contudo, como qualquer outro software ou plataforma a segurança tem que fazer parte de suas preocupações desde o momento do design de seu cluster.</p><p>Coisas como:</p><ul><li>Escolher uma distribuição kubernetes certificada pela CNCF</li><li>Escolher um OS base mínimo, com foco em K8S</li><li>Remover credenciais e acessos desnecessários</li><li>Evitar rodar qualquer coisa com privilégios de ROOT</li><li>Seguir todas as boas práticas de segurança para clusters K8S</li><li>Fazer o hardeding de seus clusters</li><li>Instalar ferramentas para verificar a segurança de seu cluster regularmente</li><li>Centralizar e acompanhar os logs do cluster e das APPs</li><li>Centralizar e acompanhar as métricas do cluster e das APPs</li><li>Inserir segurança no processo de desenvolvimento de suas APPS desde o dia zero</li></ul><p>Seguindo essas dicas você terá tanto um cluster quando APPs seguras rodando nele.</p><h2 id="consigo-rodar-meu-software-nele">Consigo rodar meu software nele?</h2><p>Consegue sim, mesmo se for um monolito.</p><p>Diferente do que muitos pensam o Kubernetes pode rodar qualquer software que esteja embarcado em um container, seja um monolito, um microserviço ou uma API.</p><p>Obviamente se você estiver iniciando o desenvolvimento do seu software o ideal é pensar em decompor sua solução em microserviços que se comunicam via API, pensar em aplicações do tipo stateless, pensar em aplicações que podem rodar em múltiplos nodes e pods, pensar em uso de banco de dados externo, pensar em persistência e armazenamento de arquivos usando storage de objetos – estilo S3 – dentre outras boas práticas de APPs Cloud Native.</p><p>Seguindo essas dicas, você terá de fato uma aplicação Cloud Native que poderá usar o melhor do Kubernetes. Sua aplicação conseguirá escalar horizontalmente e atender a demanda crescente de seus usuários.</p><h2 id="consigo-rodar-kubernetes-on-premisses">Consigo rodar Kubernetes on-premisses?</h2><p>Sim consegue, existem excelentes distribuições para rodar On-Premisses, uma delas é o RKE da Rancher.</p><p>Quando falamos de on-premisses, precisamos pensar em um desenho robusto de nosso cluster, lembrar que precisamos de redudância entre hypervisors, backup real e eficiente, load balancer L4, centralização de logs, monitoramento, avaliação de métricas e performance, gerenciamento de certificados dentre outras coisas que precisam ser configuradas e levadas em conta para termos um cluster on-premisses rodando de forma segura, estável e performática.</p><h2 id="consigo-rodar-kubernetes-em-meu-provedor-de-nuvem">Consigo rodar Kubernetes em meu provedor de nuvem?</h2><p>Sim consegue também, rodando em instâncias virtuais da mesma forma como rodaria on-premisses ou usando serviços gerenciados do provedor.</p><h2 id="vale-a-pena-usar-o-kubernetes-gerenciado">Vale a pena usar o kubernetes gerenciado?</h2><p>Vale muito, especialmente se seu time é mais focado em desenvolvimento do que em infraestrutura.</p><p>No caso de plataformas gerenciadas como EKS da AWS, GKS do Google, AKS da Azure, OKE da Oracle ou mesmo o Kubernetes gerenciado da Jelastic/SaveinCloud toda a parte da configuração e funcionamento do cluster, em especial os nós de controle, são mantidos pelo provedor, você só se preocupa com seus workloads e os nós do tipo worker que serão registrados no cluster que foi criado.</p><p>Com um kubernetes gerenciado você pode focar em seu negócio e deixar a infra com o provedor, é o melhor cenário para uma empresa com um time pequeno de desenvovledores ou um time sem engenheiros de nuvem.</p><h2 id="o-que-são-aplicações-cloud-native">O que são aplicações Cloud Native?</h2><p>Aplicações Cloud Native são aquelas que já são construídas pensando em se beneficiar de recursos da computação em nuvem. E neste caso, isso esta intimamente ligado ao uso de containers e a orquestração destes.</p><p>Características de aplicações Cloud Native</p><ul><li>Uso da Cultura DevOps no dia-a-dia do time do produto</li><li>Uso de métodos ágeis no desenvolvimento do produto</li><li>Uso de arquitetura de microserviços e API-First</li><li>Foco em oferecer métricas de seus componentes desde o dia zero</li><li>Foco em oferecer amplo monitoramento de suas features desde o dia zero</li><li>Foco em portabilidade e execução multi-cloud desde o dia zero</li><li>Abstração de sistema operacional com uso de containers</li><li>Uso de pipelines de integração contínua no processo de desenvolvimento</li><li>Uso de pipelines de entrega contínua para publicar seu software</li><li>Software desenhado para rodar como “Stateless”</li><li>Software pensado para uso de storage de objetos ao invés de filesystem</li><li>Software pensado para funcionar em cenários de escalabilidade horizontal</li><li>Software pensado para rodar em clusters de containers como kubernetes ou nomad</li><li>Software pensado para ser resiliente a falhas, onde possamos usar chaos engineering para testá-lo</li><li>Foco na rápida entrega de atualizações e novidades para seus usuários</li><li>Foco na capacidade de fazer rollback de forma fácil e simples caso seja nesessário</li></ul><p>Eu acrescentaria ainda:</p><ul><li>Suporte nativo a Kubernetes e Docker</li></ul><p>Basicamente são essas as características que representam uma APP Cloud Native hoje, pelo menos em minha humilde opinião.</p><h2 id="amarrando-as-pontas">Amarrando as pontas</h2><p>Espero que eu tenha conseguido explicar o projeto Kubernetes e o conceito de Cloud Native para você.</p><p>Em breve falaremos da arquitetura do Kubernetes! :)</p><p>[s]<br>Guto</p><hr><p>Este post é do tipo #TLDR, entenda <a href="https://gutocarvalho.net/o-que-sao-tldrs/">aqui</a>.</p><p>Se gostou manda um alo no twitter <a href="https://twitter.com/gutocarvalho">@gutocarvalho</a>.</p><footer><div class="post__tag-share"><ul class="post__tag"><li><a href="https://pub.gutocarvalho.net/tags/tldr/">TLDR</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fpub.gutocarvalho.net%2Fentendendo-o-kubernetes-and-cloud-native%2F" class="js-share facebook" aria-label="Share with Facebook" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://pub.gutocarvalho.net/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fpub.gutocarvalho.net%2Fentendendo-o-kubernetes-and-cloud-native%2F&amp;via=gutocarvalho&amp;text=%C2%A0Entendendo%20o%20Kubernetes%20%26%20Cloud%20Native" class="js-share twitter" aria-label="Share with Twitter" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://pub.gutocarvalho.net/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fpub.gutocarvalho.net%2Fentendendo-o-kubernetes-and-cloud-native%2F" class="js-share linkedin" aria-label="[MISSING TRANSLATION] Share with LinkedIn" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://pub.gutocarvalho.net/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://api.whatsapp.com/send?text=%C2%A0Entendendo%20o%20Kubernetes%20%26%20Cloud%20Native https%3A%2F%2Fpub.gutocarvalho.net%2Fentendendo-o-kubernetes-and-cloud-native%2F" class="js-share whatsapp" title="[MISSING TRANSLATION] Share with LinkedIn" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://pub.gutocarvalho.net/assets/svg/svg-map.svg#whatsapp"/></svg></a></div></div><div class="post__bio"><img src="https://pub.gutocarvalho.net/media/website/guto_22_02.png" loading="lazy" height="false" width="false" alt="Guto Carvalho"><h3><a href="https://pub.gutocarvalho.net/authors/gutocarvalho/" title="Guto Carvalho">Guto Carvalho</a></h3><p>Navegando pelas nuvens nativas e pipelines infinitas.</p></div></footer></div></div></article></main><footer class="footer"><div class="footer__social"><a href="https://www.facebook.com/falagutera" class="facebook" aria-label="Facebook"><svg class="icon"><use xlink:href="https://pub.gutocarvalho.net/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://www.twitter.com/gutocarvalho" class="twitter" aria-label="Twitter"><svg class="icon"><use xlink:href="https://pub.gutocarvalho.net/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.instagram.com/falagutera" class="instagram" aria-label="Instagram"><svg class="icon"><use xlink:href="https://pub.gutocarvalho.net/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://www.linkedin.com/in/falagutera/" class="linkedin" aria-label="LinkedIn"><svg class="icon"><use xlink:href="https://pub.gutocarvalho.net/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://www.youtube.com/falagutera" class="youtube" aria-label="Youtube"><svg class="icon"><use xlink:href="https://pub.gutocarvalho.net/assets/svg/svg-map.svg#youtube"/></svg></a></div><div class="footer__copyright">License<br>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.<br>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii</a></div></footer></div></div><script defer="defer" src="https://pub.gutocarvalho.net/assets/js/scripts.min.js?v=27706a8fe221267c1834098c796f44c1"></script><script>var images = document.querySelectorAll('img[loading]');
   
           for (var i = 0; i < images.length; i++) {
               if (images[i].complete) {
                   images[i].classList.add('is-loaded');
               } else {
                   images[i].addEventListener('load', function () {
                       this.classList.add('is-loaded');
                   }, false);
               }
           }</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" class="pcb__title">Esse site usa cookies</div><div id="pcb-txt" class="pcb__txt">Esse site usa cookies apenas para verificar suas configurações de browser e melhorar sua experiência na navegação. Não guardaremos seus dados. <a href="#not-specified">More details...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Save</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. <a href="#not-specified">More details...</a></div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Experiência do usuário</summary></details><div class="pcb__popup__switch is-checked"><input type="checkbox" data-group-name="" id="pcb-group-0" checked="checked"> <label for="pcb-group-0">Experiência do usuário</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookies Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
       if (!document.querySelector('.pcb')) {
           return;
       }
   
       var cbConfig = {
           behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
           behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
           revision: document.querySelector('.pcb').getAttribute('data-revision'),
           configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
           debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
           initialState: null,
           previouslyAccepted: []
       };
   
       var cbUI = {
           wrapper: document.querySelector('.pcb'),
           banner: {
               element: null,
               btnAccept: null,
               btnReject: null,
               btnConfigure: null
           },
           popup: {
               element: null,
               btnClose: null,
               btnSave: null,
               btnAccept: null,
               btnReject: null,
               checkboxes: null,
           },
           overlay: null,
           badge: null,
           blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
           triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
       };
   
       function initUI () {
           // setup banner elements
           cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
           cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
           cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
           cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');
   
           // setup popup elements
           if (cbUI.wrapper.querySelector('.pcb__popup')) {
               cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
               cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
               cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
               cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
               cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
               cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
               // setup overlay
               cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
           }
   
           cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');
   
           if (cbConfig.behaviour.indexOf('link') > -1) {
               for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                   cbUI.triggerLinks[i].addEventListener('click', function(e) {
                       e.preventDefault();
                       showBannerOrPopup();
                   });
               }
           }
       }
   
       function initState () {
           var lsKeyName = getConfigName();
           var currentConfig = localStorage.getItem(lsKeyName);
           var configIsFresh = checkIfConfigIsFresh();
   
           if (!configIsFresh || currentConfig === null) {
               if (cbConfig.debugMode) {
                   console.log('🍪 Config not found, or configuration expired');
               }
   
               showBanner();
           } else if (typeof currentConfig === 'string') {
               if (cbConfig.debugMode) {
                   console.log('🍪 Config founded');
               }
   
               showBadge();
   
               if (cbUI.popup.element) {
                   var allowedGroups = currentConfig.split(',');
                   var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
   
                   for (var j = 0; j < checkedCheckboxes.length; j++) {
                       var name = checkedCheckboxes[j].getAttribute('data-group-name');
   
                       if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                           checkedCheckboxes[j].checked = false;
                       }
                   }
   
                   for (var i = 0; i < allowedGroups.length; i++) {
                       var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');
   
                       if (checkbox) {
                           checkbox.checked = true;
                       }
   
                       allowCookieGroup(allowedGroups[i]);
                   }
               }
           }
   
           setTimeout(function () {
               cbConfig.initialState = getInitialStateOfConsents();
           }, 0);
       }
   
       function checkIfConfigIsFresh () {
           var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');
   
           if (lastConfigSave === null) {
               return false;
           }
   
           lastConfigSave = parseInt(lastConfigSave, 10);
   
           if (lastConfigSave === 0) {
               return true;
           }
   
           if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
               return true;
           }
   
           return false;
       }
   
       function initBannerEvents () {
           cbUI.banner.btnAccept.addEventListener('click', function (e) {
               e.preventDefault();
               acceptAllCookies('banner');
               showBadge();
           }, false);
   
           if (cbUI.banner.btnReject) {
               cbUI.banner.btnReject.addEventListener('click', function (e) {
                   e.preventDefault();
                   rejectAllCookies();
                   showBadge();
               }, false);
           }
   
           if (cbUI.banner.btnConfigure) {
               cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                   e.preventDefault();
                   hideBanner();
                   showAdvancedPopup();
                   showBadge();
               }, false);
           }
       }
   
       function initPopupEvents () {
           if (!cbUI.popup.element) {
               return;
           }
   
           cbUI.overlay.addEventListener('click', function (e) {
               hideAdvancedPopup();
           }, false);
   
           cbUI.popup.element.addEventListener('click', function (e) {
               e.stopPropagation();
           }, false);
   
           cbUI.popup.btnAccept.addEventListener('click', function (e) {
               e.preventDefault();
               acceptAllCookies('popup');
           }, false);
   
           cbUI.popup.btnReject.addEventListener('click', function (e) {
               e.preventDefault();
               rejectAllCookies();
           }, false);
   
           cbUI.popup.btnSave.addEventListener('click', function (e) {
               e.preventDefault();
               saveConfiguration();
           }, false);
   
           cbUI.popup.btnClose.addEventListener('click', function (e) {
               e.preventDefault();
               hideAdvancedPopup();
           }, false);
       }
   
       function initBadgeEvents () {
           if (!cbUI.badge) {
               return;
           }
   
           cbUI.badge.addEventListener('click', function (e) {
               showBannerOrPopup();
           }, false);
       }
   
       initUI();
       initState();
       initBannerEvents();
       initPopupEvents();
       initBadgeEvents();
   
       /**
        * API
        */
       function addScript (src, inline) {
           var newScript = document.createElement('script');
   
           if (src) {
               newScript.setAttribute('src', src);
           }
   
           if (inline) {
               newScript.text = inline;
           }
   
           document.body.appendChild(newScript);
       }
   
       function allowCookieGroup (allowedGroup) {
           var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
           cbConfig.previouslyAccepted.push(allowedGroup);
       
           for (var j = 0; j < scripts.length; j++) {
               addScript(scripts[j].src, scripts[j].text);
           }
   
           var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
           document.body.dispatchEvent(groupEvent);
           unlockEmbeds(allowedGroup);
   
           if (cbConfig.debugMode) {
               console.log('🍪 Allowed group: ' + allowedGroup);
           }
       }
   
       function showBannerOrPopup () {
           if (cbUI.popup.element) {
               showAdvancedPopup();
           } else {
               showBanner();
           }
       }
   
       function showAdvancedPopup () {
           cbUI.popup.element.classList.add('is-visible');
           cbUI.overlay.classList.add('is-visible');
           cbUI.popup.element.setAttribute('aria-hidden', 'false');
           cbUI.overlay.setAttribute('aria-hidden', 'false');
       }
   
       function hideAdvancedPopup () {
           cbUI.popup.element.classList.remove('is-visible');
           cbUI.overlay.classList.remove('is-visible');
           cbUI.popup.element.setAttribute('aria-hidden', 'true');
           cbUI.overlay.setAttribute('aria-hidden', 'true');
       }
   
       function showBanner () {
           cbUI.banner.element.classList.add('is-visible');
           cbUI.banner.element.setAttribute('aria-hidden', 'false');
       }
   
       function hideBanner () {
           cbUI.banner.element.classList.remove('is-visible');
           cbUI.banner.element.setAttribute('aria-hidden', 'true');
       }
   
       function showBadge () {
           if (!cbUI.badge) {
               return;
           }
   
           cbUI.badge.classList.add('is-visible');
           cbUI.badge.setAttribute('aria-hidden', 'false');
       }
   
       function getConfigName () {
           var lsKeyName = 'publii-gdpr-allowed-cookies';
   
           if (cbConfig.revision) {
               lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
           }
   
           return lsKeyName;
       }
   
       function storeConfiguration (allowedGroups) {
           var lsKeyName = getConfigName();
           var dataToStore = allowedGroups.join(',');
           localStorage.setItem(lsKeyName, dataToStore);
   
           if (cbConfig.configTTL === 0) {
               localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);
   
               if (cbConfig.debugMode) {
                   console.log('🍪 Store never expiring configuration');
               }
           } else {
               localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
           }
       }
   
       function getInitialStateOfConsents () {
           if (!cbUI.popup.element) {
               return [];
           }
   
           var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
           var groups = [];
   
           for (var i = 0; i < checkedGroups.length; i++) {
               var allowedGroup = checkedGroups[i].getAttribute('data-group-name');
   
               if (allowedGroup !== '') {
                   groups.push(allowedGroup);
               }
           }
   
           if (cbConfig.debugMode) {
               console.log('🍪 Initial state: ' + groups.join(', '));
           }
   
           return groups;
       }
   
       function getCurrentStateOfConsents () {
           if (!cbUI.popup.element) {
               return [];
           }
   
           var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
           var groups = [];
   
           for (var i = 0; i < checkedGroups.length; i++) {
               var allowedGroup = checkedGroups[i].getAttribute('data-group-name');
   
               if (allowedGroup !== '') {
                   groups.push(allowedGroup);
               }
           }
   
           if (cbConfig.debugMode) {
               console.log('🍪 State to save: ' + groups.join(', '));
           }
   
           return groups;
       }
   
       function getAllGroups () {
           if (!cbUI.popup.element) {
               return [];
           }
   
           var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
           var groups = [];
   
           for (var i = 0; i < checkedGroups.length; i++) {
               var allowedGroup = checkedGroups[i].getAttribute('data-group-name');
   
               if (allowedGroup !== '') {
                   groups.push(allowedGroup);
               }
           }
   
           return groups;
       }
   
       function acceptAllCookies (source) {
           var groupsToAccept = getAllGroups();
           storeConfiguration(groupsToAccept);
   
           for (var i = 0; i < groupsToAccept.length; i++) {
               var group = groupsToAccept[i];
   
               if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                   if (cbConfig.debugMode) {
                       console.log('🍪 Skip previously activated group: ' + group);
                   }
   
                   continue;
               }
   
               allowCookieGroup(group);
           }
   
           if (cbUI.popup.element) {
               var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
   
               for (var j = 0; j < checkboxesToCheck.length; j++) {
                   checkboxesToCheck[j].checked = true;
               }
           }
   
           if (cbConfig.debugMode) {
               console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
           }
   
           if (source === 'popup') {
               hideAdvancedPopup();
           } else if (source === 'banner') {
               hideBanner();
           }
       }
   
       function rejectAllCookies () {
           if (cbConfig.debugMode) {
               console.log('🍪 Reject all cookies');
           }
   
           storeConfiguration([]);
           setTimeout(function () {
               window.location.reload();
           }, 100);
       }
   
       function saveConfiguration () {
           var groupsToAccept = getCurrentStateOfConsents();
           storeConfiguration(groupsToAccept);
   
           if (cbConfig.debugMode) {
               console.log('🍪 Save new config: ', groupsToAccept.join(', '));
           }
   
           if (reloadIsNeeded(groupsToAccept)) {
               setTimeout(function () {
                   window.location.reload();
               }, 100);
               return;
           }
   
           for (var i = 0; i < groupsToAccept.length; i++) {
               var group = groupsToAccept[i];
   
               if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                   if (cbConfig.debugMode) {
                       console.log('🍪 Skip previously activated group: ' + group);
                   }
   
                   continue;
               }
   
               allowCookieGroup(group);
           }
   
           hideAdvancedPopup();
       }
   
       function reloadIsNeeded (groupsToAccept) {
           // check if user rejected consent for initial groups
           var initialGroups = cbConfig.initialState;
           var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
           var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);
   
           for (var i = 0; i < groupsToCheck.length; i++) {
               var groupToCheck = groupsToCheck[i];
   
               if (groupsToAccept.indexOf(groupToCheck) === -1) {
                   if (cbConfig.debugMode) {
                       console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                   }
   
                   return true;
               }
           }
   
           return false;
       }
   
       function unlockEmbeds (cookieGroup) {
           var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');
   
           for (var i = 0; i < iframesToUnlock.length; i++) {
               var iframeWrapper = iframesToUnlock[i];
               iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
               iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
               var iframe = iframeWrapper.querySelector('iframe');
               iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
           }
       }
   
       win.publiiEmbedConsentGiven = function (cookieGroup) {
           // it will unlock embeds
           allowCookieGroup(cookieGroup);
   
           var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');
   
           if (checkbox) {
               checkbox.checked = true;
           }
   
           var groupsToAccept = getCurrentStateOfConsents();
           storeConfiguration(groupsToAccept);
   
           if (cbConfig.debugMode) {
               console.log('🍪 Save new config: ', groupsToAccept.join(', '));
           }
       }
   })(window);</script></body></html>