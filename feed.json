{
    "version": "https://jsonfeed.org/version/1",
    "title": "Guto@Site",
    "description": "",
    "home_page_url": "https://gutocarvalho.net",
    "feed_url": "https://gutocarvalho.net/feed.json",
    "user_comment": "",
    "author": {
        "name": "Guto Carvalho"
    },
    "items": [
        {
            "id": "https://gutocarvalho.net/instalando-gitlab-runner-no-ubuntu/",
            "url": "https://gutocarvalho.net/instalando-gitlab-runner-no-ubuntu/",
            "title": "Instalando GitLab Runner Dind no Ubuntu",
            "summary": "<p>Aprenda a instalar o gitlab-runner para rodar docker DIND.</p>\n",
            "content_html": "<p>Aprenda a instalar o gitlab-runner para rodar docker DIND.</p>\n\n<p><strong>Instalando docker no Ubuntu</strong><br><br><code>curl https://releases.rancher.com/install-docker/19.03.sh | sh</code><br><code>systemctl enable docker</code><br><code>systemctl start docker</code><br><br><strong>Instalando o GitLab Runner no Ubuntu</strong><br><br><code>curl -LJO \"https://gitlab-runner-downloads.s3.amazonaws.com/latest/deb/gitlab-runner_amd64.deb\"</code><br><code>dpkg -i gitlab-runner_amd64.deb</code><br><code>systemctl enable gitlab-runner</code><br><code>systemctl start gitlab-runner</code><br><br><strong>Registrando um Runner Docker-in-Docker</strong><br><br><code>gitlab-runner register -n \\</code><br><code>  --url https://gitlab.com/ \\</code><br><code>  --registration-token TOKEN \\</code><br><code>  --description \"Runner Guto 1\" \\</code><br><code>  --tag-list docker \\</code><br><code>  --executor docker \\</code><br><code>  --docker-image \"docker:19.03.12\" \\</code><br><code>  --docker-privileged true \\</code><br><code>  --docker-volumes /var/run/docker.sock:/var/run/docker.sock </code><br><strong><br></strong>Crie quantos runners achar necessário, eu costumo reservar 1 vCPU e 1 GB de RAM para cada Runner.<br><br>Um exemplo, se eu subir 4 runners, a VM vai ter 4 vCPUs + 4 GB de RAM só para os Runners, normalmente deixo mais 1 vCPU + 1 GB pro OS e assim fica tranquilo para cenários bem básicos.</p>\n<p><strong>Configurando a concorrência do gitlab-runner</strong><br><br>edite o arquivo<br><br><code>vim  /etc/gitlab-runner/config.toml</code><br><br>altere o número de runners concorrentes para a quantidade que você criou.<br><br><code>concurrent = 4</code><br><br>reinicie o runner</p>\n<p><code>systemctl restart gitlab-runner</code></p>\n<p>ah, tenha certeza que a instância tem recursos que aguentam a demanda de concorrência, tanto do ponto de vista de memória, quanto de processamento e disco.</p>\n<p>[s]<br>Guto</p>",
            "author": {
                "name": "Guto Carvalho"
            },
            "tags": [
                   "MindNotes",
                   "Drops"
            ],
            "date_published": "2021-10-09T18:40:29-03:00",
            "date_modified": "2021-10-09T19:24:18-03:00"
        },
        {
            "id": "https://gutocarvalho.net/mesa-com-regulagem-de-altura-eletrica-brasil/",
            "url": "https://gutocarvalho.net/mesa-com-regulagem-de-altura-eletrica-brasil/",
            "title": "Mesa com regulagem de altura elétrica",
            "summary": "<p>Seguem as opções de standing desk que eu encontrei no Brasil.</p>\n",
            "content_html": "<p>Seguem as opções de standing desk que eu encontrei no Brasil.</p>\n\n<p><br><a href=\"https://slik.com.br/\">https://slik.com.br/</a></p>\n<p><a href=\"https://www.geniodesks.com.br\">https://www.geniodesks.com.br</a><br><br><a href=\"https://baherstore.com.br/produto/mesa-reta\">https://baherstore.com.br/produto/mesa-reta</a><br><br>Melhor custo/beneficio até agora é a Baherstore.<br><br>[s]<br>Guto</p>",
            "author": {
                "name": "Guto Carvalho"
            },
            "tags": [
                   "MindNotes"
            ],
            "date_published": "2021-10-09T07:42:06-03:00",
            "date_modified": "2021-10-09T18:43:08-03:00"
        },
        {
            "id": "https://gutocarvalho.net/iniciando-novo-projeto-nativetrail/",
            "url": "https://gutocarvalho.net/iniciando-novo-projeto-nativetrail/",
            "title": "Iniciando novo projeto solo! ",
            "summary": "<p>Conheça a NativeTrail, novo projeto \"solo\" que estou iniciando.</p>\n",
            "content_html": "<p>Conheça a NativeTrail, novo projeto \"solo\" que estou iniciando.</p>\n\n<p>Pessoal, passando aqui apenas para informar que estou iniciando um novo projeto chamado <a href=\"https://nativetrail.io\" target=\"_blank\" rel=\"noopener noreferrer\">NativeTrail.io</a>, visite o site e conheça os serviços dessa nova consultoria ;)<br><br>[s]<br>Guto</p>",
            "author": {
                "name": "Guto Carvalho"
            },
            "tags": [
                   "Drops"
            ],
            "date_published": "2021-10-09T07:25:21-03:00",
            "date_modified": "2021-10-09T19:25:29-03:00"
        },
        {
            "id": "https://gutocarvalho.net/instalando-rancher-single-node/",
            "url": "https://gutocarvalho.net/instalando-rancher-single-node/",
            "title": "Instalando Rancher Single Node",
            "summary": "<p>Aprenda a instalar o Rancher Single Node para testes e avaliações.</p>\n",
            "content_html": "<p>Aprenda a instalar o Rancher Single Node para testes e avaliações.</p>\n\n<p>Instale o docker<br><br><code>curl https://releases.rancher.com/install-docker/19.03.sh | sh</code></p>\n<p>Crie o diretório de dados para o rancher<br><br><code>mkdir /opt/rabcher-data</code><br><br>Instale o Rancher</p>\n<p><code>docker run -d --restart=unless-stopped \\</code><br><code>  -p 80:80 -p 443:443 \\</code><br><code>  --privileged \\</code><br><code>  -v /opt/rancher-data:/var/lib/rancher \\<br>   rancher/rancher:latest \\</code><br><code>  --acme-domain rancher.nativetrail.io</code></p>\n<p>Acesse</p>\n<p><code><a href=\"https://rancher.nativetrail.io\">https://rancher.nativetrail.io</a></code></p>\n<p>Prontinho!</p>",
            "author": {
                "name": "Guto Carvalho"
            },
            "tags": [
                   "Projetos",
                   "K8S",
                   "Drops"
            ],
            "date_published": "2021-10-07T17:02:01-03:00",
            "date_modified": "2021-10-07T23:03:41-03:00"
        },
        {
            "id": "https://gutocarvalho.net/gerando-kubeconfig-para-aws-eks/",
            "url": "https://gutocarvalho.net/gerando-kubeconfig-para-aws-eks/",
            "title": "K8S: Gerando Kubeconfig para AWS EKS",
            "summary": "<p>Aprenda a gerar o kubeconfig para um cluster EKS</p>\n",
            "content_html": "<p>Aprenda a gerar o kubeconfig para um cluster EKS</p>\n\n<p><strong>Gerando Kubeconfig para AWS EKS</strong><br><br>configurando aws-cli<br><br><code>$ aws configure</code><br>    <br>preencha os dados pedidos<br><br><code>AWS Access Key ID [None]: ACCESS_KEY</code><br><code>AWS Secret Access Key [None]: SECRET_KEY</code><br><code>Default region name [None]: us-east-1</code><br><code>Default output format [None]: json</code><br><br>listando clusters<br><br><code>$ aws eks cluster-list --output table</code><br><br>saída<br><br><code>-----------------------</code><br><code>|    ListClusters     |</code><br><code>+---------------------+</code><br><code>||     clusters      ||</code><br><code>|+-------------------+|</code><br><code>||  homologacao      ||</code><br><code>||  producao         ||</code><br><code>||  desenvolvimento  ||</code><br><code>||  sandbox          ||</code><br><code>|+-------------------+|</code><br><br><br>gerando</p>\n<p><code>$ aws eks update-kubeconfig --name labs</code><br><br>saída<br><br><code>Added new context arn:aws:eks:us-east-1:xxxx:cluster/gr1d-labs to /Users/gutocarvalho/projetos/nativetrail/k8s/labs/config</code><br><br>listando clusters<br><br><code>$ export KUBECONFIG=/Users/gutocarvalho/projetos/nativetrail/k8s/labs/config</code><br><code>$ kubectl get nodes</code><br><br>saída<br><br><code>NAME                            STATUS   ROLES    AGE   VERSION</code><br><code>ip-172-xx-xx-11.ec2.internal     Ready    &lt;none&gt;   24m   v1.21.2-eks-55daa9d</code><br><code>ip-172-xx-xx-168.ec2.internal    Ready    &lt;none&gt;   24m   v1.21.2-eks-55daa9d</code><br><code>ip-172-xx-xx-198.ec2.internal    Ready    &lt;none&gt;   24m   v1.21.2-eks-55daa9d</code><br><br>prontinho!</p>",
            "author": {
                "name": "Guto Carvalho"
            },
            "tags": [
                   "K8S",
                   "Drops"
            ],
            "date_published": "2021-10-06T12:05:34-03:00",
            "date_modified": "2021-10-06T15:22:21-03:00"
        },
        {
            "id": "https://gutocarvalho.net/instalando-ingress-aws-no-k8s-eks/",
            "url": "https://gutocarvalho.net/instalando-ingress-aws-no-k8s-eks/",
            "title": "K8S: Instalando ingress AWS no EKS",
            "summary": "<p>Aprenda a instalar o ingress-aws no EKS de forma rápida e pontual</p>\n",
            "content_html": "<p>Aprenda a instalar o ingress-aws no EKS de forma rápida e pontual</p>\n\n<p>É importante saber que o cluster EKS não vem com ingress instalado por padrão, então vamos aprender como instalar o INGRESS oficial do projeto do K8S com suporte a ELB e NLB da AWS.<br><br><strong>Instalando Ingress no EKS</strong><br><br>Aqui nesta página teremos a documentação para instalar o ingress<br><br><code>https://kubernetes.github.io/ingress-nginx/deploy/#aws</code><br><br>Instale a última versão estável<br><br><code>$ kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.0.3/deploy/static/provider/aws/deploy.yaml</code><br><br>A saída esperada é essa:<br><br><code>namespace/ingress-nginx created</code><br><code>serviceaccount/ingress-nginx created</code><br><code>configmap/ingress-nginx-controller created</code><br><code>clusterrole.rbac.authorization.k8s.io/ingress-nginx created</code><br><code>clusterrolebinding.rbac.authorization.k8s.io/ingress-nginx created</code><br><code>role.rbac.authorization.k8s.io/ingress-nginx created</code><br><code>rolebinding.rbac.authorization.k8s.io/ingress-nginx created</code><br><code>service/ingress-nginx-controller-admission created</code><br><code>service/ingress-nginx-controller created</code><br><code>deployment.apps/ingress-nginx-controller created</code><br><code>ingressclass.networking.k8s.io/nginx created</code><br><code>validatingwebhookconfiguration.admissionregistration.k8s.io/ingress-nginx-admission created</code><br><code>serviceaccount/ingress-nginx-admission created</code><br><code>clusterrole.rbac.authorization.k8s.io/ingress-nginx-admission created</code><br><code>clusterrolebinding.rbac.authorization.k8s.io/ingress-nginx-admission created</code><br><code>role.rbac.authorization.k8s.io/ingress-nginx-admission created</code><br><code>rolebinding.rbac.authorization.k8s.io/ingress-nginx-admission created</code><br><code>job.batch/ingress-nginx-admission-create created</code><br><code>job.batch/ingress-nginx-admission-patch created</code><br><br>Prontinho!</p>",
            "author": {
                "name": "Guto Carvalho"
            },
            "tags": [
                   "Projetos",
                   "K8S",
                   "Drops"
            ],
            "date_published": "2021-10-05T20:01:27-03:00",
            "date_modified": "2021-10-06T15:22:35-03:00"
        },
        {
            "id": "https://gutocarvalho.net/instalando-cert-manager-no-k8s/",
            "url": "https://gutocarvalho.net/instalando-cert-manager-no-k8s/",
            "title": "K8S: Instalando Cert-Manager e issuers LetsEncrypt",
            "summary": "<p>Aprenda a instalar ao cert-manager no k8s de forma objetiva e rápida!</p>\n",
            "content_html": "<p>Aprenda a instalar ao cert-manager no k8s de forma objetiva e rápida!</p>\n\n<p><strong>Instalando CertManager</strong><br><br>Instale o CustomResourceDefinition separadamente<br><br><code>$ kubectl apply --validate=false -f https://github.com/jetstack/cert-manager/releases/download/v1.5.4/cert-manager.crds.yaml</code><br><br>Crie o namespace para o cert-manager<br><br><code>$ kubectl create namespace cert-manager</code><br><br>Adicione o repositório helm<br><br><code>$ helm repo add jetstack https://charts.jetstack.io</code><br><br>Atualize os indices do helm<br><br><code>$ helm repo update</code><br><br>Instale o cert-manager via helm<br><br><code>$ helm install \\</code><br><code>  cert-manager jetstack/cert-manager \\</code><br><code>  --namespace cert-manager \\</code><br><code>  --version v1.5.4</code><br><br>Crie o issuer para letsencrypt production<br><br><code>$ vim issuer-prod.yaml</code><br><br>Insira o conteúdo<br><br><code>apiVersion: cert-manager.io/v1</code><br><code>kind: ClusterIssuer</code><br><code>metadata:</code><br><code>  name: letsencrypt-prod</code><br><code>spec:</code><br><code>  acme:</code><br><code>    # You must replace this email address with your own.</code><br><code>    # Let's Encrypt will use this to contact you about expiring</code><br><code>    # certificates, and issues related to your account.</code><br><code>    email: certmanager@gutocarvalho.net</code><br><code>    server: https://acme-v02.api.letsencrypt.org/directory</code><br><code>    privateKeySecretRef:</code><br><code>      # Secret resource that will be used to store the account's private key.</code><br><code>      name: letsencrypt-production</code><br><code>    # Add a single challenge solver, HTTP01 using nginx</code><br><code>    solvers:</code><br><code>    - http01:</code><br><code>        ingress:</code><br><code>          class: nginx</code><br><br>Aplicando<br><br><code>$ kubectl create -f issuer-prod.yaml</code><br><br>Criando o issuer para letsencrypt staging<br><br><code>vim issuer-staging.yaml</code><br><br>Insira o conteúdo<br><br><code>apiVersion: cert-manager.io/v1</code><br><code>kind: ClusterIssuer</code><br><code>metadata:</code><br><code>  name: letsencrypt-staging</code><br><code>spec:</code><br><code>  acme:</code><br><code>    # You must replace this email address with your own.</code><br><code>    # Let's Encrypt will use this to contact you about expiring</code><br><code>    # certificates, and issues related to your account.</code><br><code>    email: nativetrail@gutocarvalho.net</code><br><code>    server: https://acme-staging-v02.api.letsencrypt.org/directory</code><br><code>    privateKeySecretRef:</code><br><code>      # Secret resource that will be used to store the account's private key.</code><br><code>      name: letsencrypt-staging</code><br><code>    # Add a single challenge solver, HTTP01 using nginx</code><br><code>    solvers:</code><br><code>    - http01:</code><br><code>        ingress:</code><br><code>          class: nginx</code><br><br>Aplicando<br><br><code>$ kubectl create -f issuer-staging.yaml</code><br><br>Prontinho!<br><br><strong>Annotations</strong><br><br>Para production<br><br><code>cert-manager.io/cluster-issuer=letsencrypt-prod</code><br><code>kubernetes.io/ingress.class=nginx</code><br><br>Para staging<br><br><code>cert-manager.io/cluster-issuer=letsencrypt-staging</code><br><code>kubernetes.io/ingress.class=nginx</code><br><br><strong>Refs</strong><br><br><code>https://cert-manager.io/docs/configuration/acme/</code></p>",
            "author": {
                "name": "Guto Carvalho"
            },
            "tags": [
                   "Projetos",
                   "K8S",
                   "Drops"
            ],
            "date_published": "2021-10-05T19:58:00-03:00",
            "date_modified": "2021-10-06T15:23:53-03:00"
        },
        {
            "id": "https://gutocarvalho.net/kubeconf-north-america-2021/",
            "url": "https://gutocarvalho.net/kubeconf-north-america-2021/",
            "title": "Kubeconf North America 2021",
            "summary": "<p>Esse mês tem, vamo nessa, nos vemos lá!</p>\n",
            "content_html": "<p>Esse mês tem, vamo nessa, nos vemos lá!</p>\n\n<p>De 11 a 15 de Outubro teremos <a href=\"https://events.linuxfoundation.org/kubecon-cloudnativecon-north-america/?utm_source=Google&amp;utm_medium=Search&amp;utm_campaign=KubeConNA2021\">Kubecon</a> North America.</p>\n<p>Veja a <a href=\"https://events.linuxfoundation.org/kubecon-cloudnativecon-north-america/program/schedule\">agenda</a> e participe!<br><br>[s]<br>Guto</p>",
            "author": {
                "name": "Guto Carvalho"
            },
            "tags": [
                   "Eventos",
                   "Drops"
            ],
            "date_published": "2021-10-05T15:14:23-03:00",
            "date_modified": "2021-10-05T20:03:50-03:00"
        },
        {
            "id": "https://gutocarvalho.net/wiki-open-source-moderna/",
            "url": "https://gutocarvalho.net/wiki-open-source-moderna/",
            "title": "Wiki open source moderna",
            "summary": "<p>Conheça uma wiki open source <strong>modernosa</strong> que vai te surpreender!</p>\n",
            "content_html": "<p>Conheça uma wiki open source <strong>modernosa</strong> que vai te surpreender!</p>\n\n<p>Depois de muitos anos usando o <strong>dokuwiki</strong> como ferramenta principal e <strong>GitLab Wiki</strong> para alguns projetos pontuais, eu finalmente encontrei algo que mexeu comigo, a ponto de me fazer mudar a ferramenta wiki referência em minha <strong>stack</strong> de trabalho.<br><br>O projeto em questão é o <strong>WIKI.JS</strong>, ele veio desafiar minha escolha de uma wiki – <strong>flat file storage </strong>– e ainda assim conseguiu preencher um espaço até então já dominado.<br><br>Desde 2020 eu uso ela, e agora posso dizer que recomendo com todas as forças :)<br><br>Vai lá, dá uma chance!<br><br><strong><a href=\"https://js.wiki/\">https://js.wiki/</a></strong><br><br>[s]<br><br>P.s: Já usa ela? Me conta ai suas impressões, mas faz com carinho tá :)</p>",
            "author": {
                "name": "Guto Carvalho"
            },
            "tags": [
                   "Projetos",
                   "Drops"
            ],
            "date_published": "2021-10-04T10:13:34-03:00",
            "date_modified": "2021-10-04T15:47:50-03:00"
        },
        {
            "id": "https://gutocarvalho.net/chats-open-source/",
            "url": "https://gutocarvalho.net/chats-open-source/",
            "title": "Chats open source e self-hosted",
            "summary": "<p>Lista de projetos open source para chat corporativo.</p>\n",
            "content_html": "<p>Lista de projetos open source para chat corporativo.</p>\n\n<p>Novamente buscando novas tecnologias para minha stack, quero sair das – já batidas – opções existentes.</p>\n<p>Hoje temos os open source mais famosinhos, criados como alternativa ao closed source <strong>slack</strong>.<br><br>- <a href=\"https://mattermost.com\">https://mattermost.com</a> ( usei por anos, até a semana passada )<br>- <a href=\"https://rocket.chat\">https://rocket.chat</a> ( projeto brazuca bem legal )</p>\n<p>Recentemente pesquisando pelo RIOT, app que usava o protocolo Matrix, descobri que ele foi rebatizado como Element, vale a pena conhecer!<br><br>- <a href=\"https://element.io/\">https://element.io</a><br><br>Outra que vale a menção é o Corteza, que é um framework maior, mas tem um módulo de chat.<br><br>- <a href=\"https://cortezaproject.org/technology/core/corteza-messaging/\">https://cortezaproject.org/technology/core/corteza-messaging/</a></p>\n<p>Esses dois estão na minha fila para testar, quando entender como funcionam eu posto aqui.<br><br>Ah, e caso não conheça o projeto <a href=\"https://matrix.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Matrix.org</a>, vai lá visitar.<br><br>[s]<br>Guto<br><br>P.s: Conhece algum outro open source e self hosted? Manda aí nos comentários :)<br><br></p>",
            "author": {
                "name": "Guto Carvalho"
            },
            "tags": [
                   "Projetos",
                   "Drops"
            ],
            "date_published": "2021-10-04T09:49:49-03:00",
            "date_modified": "2021-10-04T10:21:04-03:00"
        }
    ]
}
